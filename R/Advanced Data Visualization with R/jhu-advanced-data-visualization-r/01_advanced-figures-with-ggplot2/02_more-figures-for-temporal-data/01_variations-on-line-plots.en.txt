In the past, we've done some simple
line plots that have been useful for exploring temporal data. Now we're going to do some additional work
on a few visualizations that are useful for showing change overtime. Repeat up here in the R code where
we left off in the last video. So find these lines of code in
the attached are code file. A very common visual effect
that you see with line plots, is to fill in the area
underneath the curve. These are really easy to make and so
here I've created some fake data with time as one value, an additional value
associated with each time point. You can think about this
as whatever you want. Scores, temperature, weights,
heights, whatever you desire. The plot of figure that fills
in the area underneath the line. You might think that you should use
a fill aesthetic and geom on line. But actually the best thing to do
is to use a geom area shape, so a completely different geom. By default when you use geom area, the fill in color underneath
the curve is going to be black. But you can also set the fill
color manually if you want. Filling in the area underneath
the curve with a single color, adds a certain aesthetic
quality to the visual. But it doesn't really add much
in terms of informational value. It says the same thing as a line plot. But you can use that space to
convey additional information, if you make a stacked line graph. Let's say I have temporel data for
three people, Bob, Sue, and Lisa. I record some value for
each person at each of 5 time points. Let's just say it's how much money is
in their pockets at any given time, how much change they are carrying? The lines of code here create a fake
data set in long format, that records the amount of money that each person
has in their pocket at each time point. Now, if we use geom area and set
the fill aesthetic to the identifier for each person. The chart will display how much money each
person has in their pocket on top of each other at each time point. So the total height of the line, will be
the cumulative amount of money that each of the three people has
combined at each time point. You can prove that this is what this
figure is actually showing by calculating the cumulative total of change in each
person's pocket at each time point. Which I can do with these few
lines of data wrangling code. The nice thing is that geom area
takes care of all this for you. And so now you're actually leveraging
the area underneath the line for some additional information. If you want to change in a value
across units of observation, and you want to compare two
different time points. So let's say we wanted to compare
the amount of change at these three people had at time 1, with the amount of
money that each of them had at time 5. A good choice for
this is a dumbbell chart. And will build one up here just to show
you what I mean and what that looks like. We make a dumbbell chart using the GG
alt package, so we load that up. And then we're going to wrangle this
data about Bob Sue and Lisa, so that we only have their
values at time 1 and time 5. And then we're going to
pivot into wide format. Making a dumbbell chart is one of those
rare times when you actually want your data in wide rather than long format,
for purposes of plotting in GG plot. So used to pivot function to
take care of that for you. To make the chart itself, we call the GG
plot and we put the y axis as the unit of observation, which in this case is
the different people Bob Sue and Lisa. For x, we set that to the first time point
we want to compare, which is the time.1. And then for x ends or which is the end
of the segment, we're going to draw here, that's going to be the last time point. Once we have this all set up,
the geom dumbbell takes care of the rest. And like any other GG plot figure, we can do refinements to
make it look more appealing.